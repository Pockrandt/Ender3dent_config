########################
## assist MCU
# Creality 4.2.2
[mcu assist]
serial: /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method: command

[stepper_z]
step_pin: assist:PB8
dir_pin: assist:PB7
enable_pin: !assist:PC3

### bltouch
#endstop_pin: ^assist:PA6
endstop_pin: probe:z_virtual_endstop
#position_endstop: 0

position_max: 300
position_min: -5
homing_speed: 8
second_homing_speed: 3.0
homing_retract_dist: 3.0
full_steps_per_rotation: 200
microsteps: 16
rotation_distance: 8

[stepper_z1]
step_pin: assist:PB6
dir_pin: assist:PB5
enable_pin: !assist:PC3
#endstop_pin: ^assist:PA7
full_steps_per_rotation: 200
microsteps: 16
rotation_distance: 8

[stepper_z2]
step_pin: assist:PC2
dir_pin: assist:PB9
enable_pin: !assist:PC3
#endstop_pin: ^assist:PA5
full_steps_per_rotation: 200
microsteps: 16
rotation_distance: 8

#[extruder]
#max_extrude_only_distance: 100.0
#step_pin: assist:PB4
#dir_pin: assist:PB3
#enable_pin: !assist:PC3
#microsteps: 16
#rotation_distance: 34.406
#nozzle_diameter: 0.400
#filament_diameter: 1.750
#heater_pin: assist:PA1
#sensor_type: EPCOS 100K B57560G104F
#sensor_pin: assist:PC5
#control: pid
#pid_Kp: 21.527
#pid_Ki: 1.063
#pid_Kd: 108.982
#min_temp: 0
#max_temp: 250

[heater_bed]
heater_pin: assist:PA2
sensor_type: EPCOS 100K B57560G104F
sensor_pin:  assist:PC4  ## gpio26 on the skr  #   assist:PC4
control: pid
pid_Kp: 54.027
pid_Ki: 0.770
pid_Kd: 948.182
min_temp: 0
max_temp: 130

[fan]
pin: assist:PA0

[bltouch]
sensor_pin: ^assist:PB1
control_pin: assist:PB0
x_offset: -28
y_offset: -25
speed: 3
lift_speed: 3
samples: 3
sample_retract_dist: 8.0
samples_tolerance: 0.02
samples_tolerance_retries: 3
probe_with_touch_mode: true
z_offset: 3.590


[safe_z_home]
home_xy_position: 90, 135
speed: 50
z_hop: 10
z_hop_speed: 5
move_to_previous: false


#[display]
#lcd_type: st7920
#cs_pin: assist:PA3
#sclk_pin: assist:PA1
#sid_pin: assist:PC1
#encoder_pins: ^assist:PD2, ^assist:PD3
#click_pin: ^!assist:PC0

[display] # RET6 12864 LCD
lcd_type: st7920
cs_pin: assist:PB12
sclk_pin: assist:PB13
sid_pin: assist:PB15
encoder_pins: ^assist:PB14, ^assist:PB10
click_pin: ^!assist:PB2